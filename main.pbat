
def foo
    use(cmake)
    github_checkout()
    github_cache(C:/myapp, :k=myapp)
    if_exist_return(C:/myapp)
    echo myapp not found
    call_vcvars()
    mkdir(build)
    pushd build
        cmake -G Ninja -DCMAKE_INSTALL_PREFIX=C:/myapp ..
        cmake --build .
        cmake --install .
    popd

def bar depends on foo
    dir C:\myapp

github-workflow 1